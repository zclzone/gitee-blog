(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b06b405a"],{"094a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view"},[t._l(t.category.data,(function(e,a){return n("el-tag",{key:a,attrs:{color:t.randomColor(),closable:"","disable-transitions":!0},on:{close:function(n){return t.handleClose(e)}}},[t._v(" "+t._s(e)+" ")])})),t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ New Category")])],2)},r=[],i=(n("4de4"),n("b0c0"),n("96cf"),n("1da1")),s=n("714d"),u={data:function(){return{category:{},inputVisible:!1,inputValue:"",colors:["#005387","#8cb811","#fdb813","#88aca1","#788cb6","#a1a1a4","#ced7df","#decba5","#566127","#76daff"]}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getCategory();case 2:case"end":return e.stop()}}),e)})))()},methods:{getCategory:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getFile("db/_post/category.json");case 2:if(n=e.sent,n){e.next=6;break}return t.$message.error("No data"),e.abrupt("return");case 6:t.category=JSON.parse(n.content),t.category.name=n.name,t.category.path=n.path,t.category.sha=n.sha;case 10:case"end":return e.stop()}}),e)})))()},updateCategory:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].updateFile(t.category.path,t.category.sha,JSON.stringify(t.category));case 2:if(n=e.sent,"OK"===n.status){e.next=6;break}return t.$message.error(n.msg),e.abrupt("return");case 6:t.$message(n.msg),t.getCategory();case 8:case"end":return e.stop()}}),e)})))()},handleClose:function(t){confirm("确定删除？")&&(this.category.data=this.category.data.filter((function(e){return e!=t})),this.updateCategory())},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){if(!this.inputValue)return this.inputVisible=!1,void(this.inputValue="");this.category.data.push(this.inputValue),this.inputVisible=!1,this.inputValue="",this.updateCategory()},randomColor:function(){return this.colors[Math.floor(10*Math.random())]}}},o=u,c=(n("9c56"),n("2877")),l=Object(c["a"])(o,a,r,!1,null,"566f1737",null);e["default"]=l.exports},7097:function(t,e,n){},"9c56":function(t,e,n){"use strict";var a=n("7097"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-b06b405a.5a0085c8.js.map